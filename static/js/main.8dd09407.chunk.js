(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){e.exports=n.p+"static/media/cancBtn1.aeb6d9a4.png"},109:function(e,t,n){e.exports=n.p+"static/media/cancBtn2.f7c9cd5d.png"},110:function(e,t,n){e.exports=n.p+"static/media/cancBtn3.0c1d1f1c.png"},111:function(e,t,n){e.exports=n.p+"static/media/stickersPack.aa8dcf35.png"},114:function(e,t,n){e.exports=n(230)},119:function(e,t,n){},130:function(e,t){},132:function(e,t){},143:function(e,t){},145:function(e,t){},172:function(e,t){},174:function(e,t){},175:function(e,t){},181:function(e,t){},183:function(e,t){},201:function(e,t){},204:function(e,t){},220:function(e,t){},223:function(e,t){},228:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(35),i=n.n(r),o=(n(119),n(37)),l=n(8),s=n(107),u=n.n(s),f=(n(228),n(56)),d=n.n(f),m=n(108),p=n.n(m),E=n(109),k=n.n(E),g=n(110),S=n.n(g),O=n(29),y=n.n(O),v=n(57),b=n(113),x=function(e){var t=e.id,n=e.text,r=Object(a.useState)(""),i=Object(o.a)(r,2),s=i[0],u=i[1],f=Object(a.useRef)(null),d=Object(l.b)(),m=function(e){d(function(e,t){return function(){var n=Object(v.a)(y.a.mark((function n(a){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(c=JSON.parse(localStorage.getItem("stickers"))).map((function(n){return n.id===e?n.text=t:null})),localStorage.clear(),localStorage.setItem("stickers",JSON.stringify(c)),a({type:"STICKER/CHANGE_TEXT",payload:{id:e,text:t}});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sticktextLocal"},c.a.createElement("textarea",{name:"sticktextLocal",onChange:function(e){u(e.target.value)},onFocus:function(){f.current.style.visibility="hidden",u(n)},onBlur:function(){m(s),f.current.style.visibility="visibility"},defaultValue:s})),c.a.createElement("div",{className:"sticktextStore",ref:f},c.a.createElement("textarea",{name:"sticktextStore",placeholder:"HI \nI AM \nYOUR NOTE =)",defaultValue:n,style:{}})))},C=function(e){var t=e.moveSticker,n=e.stickerOne,r=Object(a.useRef)(null);return Object(a.useEffect)((function(){t&&document.addEventListener("mousemove",(function(e){r.current&&(r.current.style.transform="translate(".concat(String(e.pageX-85),"px, ").concat(String(e.pageY-480),"px)"))}))}),[t]),t?c.a.createElement("div",{className:"stickerOneMove",ref:r},c.a.createElement(x,{text:""}),c.a.createElement("img",{src:n,alt:""})):null},j=function(e){var t=e.id,n=e.pinColor,a=Object(l.b)();return c.a.createElement("div",{className:"stickPin",onClick:function(){window.confirm("Delete note?")&&a(function(e){return function(){var t=Object(v.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("stickers")),c=a.filter((function(t){return t.id!==e})),localStorage.clear(),localStorage.setItem("stickers",JSON.stringify(c)),t.next=6,n({type:"STICKER/DELETE_STICKER",payload:e});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}},c.a.createElement("img",{src:n,alt:""}))},I=function(e){var t=e.stickerOne;return c.a.createElement("div",{className:"stickImg"},c.a.createElement("img",{src:t,alt:""}))},T=function(e){var t=e.stickerOne,n=Object(l.c)((function(e){return e.stickers.stickers})),r=Object(l.b)();return Object(a.useEffect)((function(){r(function(){var e=JSON.parse(localStorage.getItem("stickers"));return{type:"STICKER/FETCH_STICKERS",payload:null===e?[]:e}}())}),[r]),c.a.createElement(c.a.Fragment,null,n&&n.map((function(e,n){return c.a.createElement("div",{key:e.id,className:"stickerOne "+e.direction,style:{left:e.x-75,top:e.y-75}},c.a.createElement(j,{id:e.id,pinColor:e.pinColor}),c.a.createElement(x,{text:e.text,id:e.id}),c.a.createElement(I,{stickerOne:t}))})))},N=n(111),h=n.n(N),R=function(e){var t=e.setMoveSticker;return c.a.createElement("div",{className:"stickersBlock",onClick:function(){t(!0)}},c.a.createElement("img",{src:h.a,alt:""}))},K=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=[p.a,k.a,S.a],s=Object(l.b)(),f=function(e,t){var n=e-.5+Math.random()*(t-e+1);return Math.round(n)};return c.a.createElement("div",{className:"container-fluid mainWrapper",onClick:function(e){if(n){var t=u.a.generate(5);s(function(e){var t={id:e.id,x:e.x,y:e.y,direction:e.direction,pinColor:e.pinColor,text:e.text},n=JSON.parse(localStorage.getItem("stickers"));return null!==n?(console.log("tyt1"),localStorage.setItem("stickers",JSON.stringify([].concat(Object(b.a)(n),[t])))):(console.log("tyt2"),console.log(t),localStorage.setItem("stickers",JSON.stringify([t]))),{type:"STICKER/ADD_STICKER",payload:t}}({id:t,x:e.pageX,y:e.pageY,direction:Math.round(Math.random())?"rightStick":"leftStick",pinColor:i[f(0,2)],text:""})),r(!1)}}},c.a.createElement(R,{setMoveSticker:r}),c.a.createElement(C,{moveSticker:n,stickerOne:d.a}),c.a.createElement(T,{stickerOne:d.a}))};var J=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(K,null))},w=n(13),M=n(15),_={stickers:[]},D=Object(w.c)({stickers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STICKER/FETCH_STICKERS":return Object(M.a)(Object(M.a)({},e),{},{stickers:t.payload});case"STICKER/ADD_STICKER":return console.log(t.payload),Object(M.a)(Object(M.a)({},e),{},{stickers:e.stickers.concat({id:t.payload.id,x:t.payload.x,y:t.payload.y,direction:t.payload.direction,pinColor:t.payload.pinColor,text:t.payload.text})});case"STICKER/DELETE_STICKER":return Object(M.a)(Object(M.a)({},e),{},{stickers:e.stickers.filter((function(e){return e.id!==t.payload}))});case"STICKER/CHANGE_TEXT":return e.stickers.map((function(e){return e.id===t.payload.id?e.text=t.payload.text:null})),e;default:return e}}}),B=n(112),F=Object(w.e)(D,Object(w.d)(Object(w.a)(B.a)));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:F},c.a.createElement(J,null))),document.getElementById("root"))},56:function(e,t,n){e.exports=n.p+"static/media/stickerOne.44a9a30d.png"}},[[114,1,2]]]);
//# sourceMappingURL=main.8dd09407.chunk.js.map